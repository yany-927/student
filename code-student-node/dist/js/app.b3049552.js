(function(){var e={8129:function(e,t,n){"use strict";var o=n(6369),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],a={name:"app"},s=a,l=n(1001),u=(0,l.Z)(s,r,i,!1,null,"2fd79bbc",null),c=u.exports,d=n(2631),m=function(){var e=this,t=e._self._c;return t("div",[t("vue-particles",{staticClass:"login-bg",attrs:{color:"#dedede",particleOpacity:.7,particlesNumber:80,shapeType:"circle",particleSize:4,linesColor:"#dedede",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),t("div",{staticClass:"content"},[t("h3",{staticStyle:{"margin-top":"0"}},[e._v("学生管理系统")]),t("el-form",{ref:"formLoginref",attrs:{model:e.formLgoin,"label-width":"55px",rules:e.rulesLogin,"hide-required-asterisk":!0}},[t("el-form-item",{attrs:{label:"帐号",prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入帐号"},model:{value:e.formLgoin.username,callback:function(t){e.$set(e.formLgoin,"username",t)},expression:"formLgoin.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码","prefix-icon":"iconfont icon-3702mima"},model:{value:e.formLgoin.password,callback:function(t){e.$set(e.formLgoin,"password",t)},expression:"formLgoin.password"}})],1),t("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"验证码",prop:"randlist"}},[t("el-input",{ref:"iptref",staticStyle:{float:"left",width:"50%","margin-right":"20px"},attrs:{size:"medium"},model:{value:e.formLgoin.randlist,callback:function(t){e.$set(e.formLgoin,"randlist",t)},expression:"formLgoin.randlist"}}),t("img",{ref:"imgcanvas",attrs:{src:e.dataUrl,alt:"",width:"100px",height:"40px"},on:{click:e.imgbtn}}),t("canvas",{ref:"canvas",staticStyle:{display:"none"},attrs:{width:"100px",height:"40px"}})],1),t("el-form-item",{staticStyle:{"margin-bottom":"0"}},[t("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("学生")]),t("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("教师")])],1),t("el-row",[t("el-col",{attrs:{span:16}},[t("el-button",{staticStyle:{"margin-left":"40px"},attrs:{size:"mini",type:"primary"},on:{click:e.submitbtn}},[e._v("登录")])],1),t("el-col",{attrs:{span:8}},[t("el-button",{attrs:{size:"mini",type:"info"},on:{click:e.closebtn}},[e._v("重置")])],1)],1)],1)],1)],1)},f=[],p=(n(7658),{name:"MyLogin",data(){return{formLgoin:{username:"",password:"",randlist:""},rulesLogin:{username:[{required:!0,message:"请输入帐号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],randlist:[{required:!0,message:"请输入验证码",trigger:"blur"}]},dataUrl:"",contentCanvas:[],radio:"1"}},methods:{submitbtn(){this.$refs.formLoginref.validate((async e=>{if(!e)return this.$message.error("验证失败！");if(this.contentCanvas.join("").toLocaleUpperCase()!==this.formLgoin.randlist.toLocaleUpperCase())return this.$message.error("验证码错误！");if("1"===this.radio){const{data:e}=await this.$http.get("/login/student",{params:{username:this.formLgoin.username,password:this.formLgoin.password}});if(200!==e.status)return this.$message.error(e.msg);window.sessionStorage.setItem("token",e.token);const t=e.data.stu_order.split(","),n=e.data.stu_icon.split(","),o=e.data.stu_content.split(","),r=[];for(let i=0;i<4;i++)r.push({id:i+1,menu:t[i],icon:n[i],content:o[i]});this.$store.commit("setloginmenu",r),this.$message.success("登录成功！"),this.$router.push("/home")}else{const{data:e}=await this.$http.get("/login/admin",{params:{username:this.formLgoin.username,password:this.formLgoin.password}});if(200!==e.status)return this.$message.error(e.msg);window.sessionStorage.setItem("token",e.token);const t=e.data.admin_order.split(","),n=e.data.admin_icon.split(","),o=e.data.admin_content.split(","),r=[];for(let i=0;i<4;i++)r.push({id:i+1,menu:t[i],icon:n[i],content:o[i]});this.$store.commit("setloginmenu",r),this.$message.success("登录成功！"),this.$router.push("/home")}}))},closebtn(){this.$refs.formLoginref.resetFields()},canvas(){const e=["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t=this.$refs.canvas.getContext("2d");t.fillStyle="#0000ff",t.fillRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height);const n=t.createLinearGradient(0,0,this.$refs.canvas.width,0);n.addColorStop(0,"pink"),n.addColorStop(.5,"red"),n.addColorStop(1,"yellow"),t.fillStyle=n,t.font="25px Arial";const o=[],r=[],i=[];for(let a=0;a<4;a++)o[a]=e[Math.floor(Math.random()*e.length)],r[a]=16*a+10,i[a]=20*Math.random()+20,t.fillText(o[a],r[a],i[a]);this.dataUrl=this.$refs.canvas.toDataURL(),this.contentCanvas=o},domove(e,t){t.moveTo(Math.floor(Math.random()*e.width),Math.floor(Math.random()*e.height)),t.lineTo(Math.floor(Math.random()*e.width),Math.floor(Math.random()*e.height)),t.lineWidth=.5,t.fillStyle="rgba(50,50,50,0.3)",t.stroke()},dod(e,t){const n=Math.floor(Math.random()*e.width),o=Math.floor(Math.random()*e.height);t.moveTo(n,o),t.lineTo(n+1,o+1),t.lineWidth=.2,t.stroke()},imgbtn(){this.canvas()}},mounted(){this.canvas()}}),h=p,g=(0,l.Z)(h,m,f,!1,null,"1520f1e8",null),v=g.exports,b=function(){var e=this,t=e._self._c;return t("el-container",[t("el-aside",{attrs:{width:e.ismenu?"60px":"200px"}},[t("div",[t("h3",[e._v(e._s(e.ismenu?"后台":"学生后台管理系统"))]),t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/student","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.ismenu,"collapse-transition":!1,router:!0}},e._l(e.loginmenuicon,(function(n){return t("el-menu-item",{key:n.id,attrs:{index:n.menu}},[t("i",{class:"el-icon-"+n.icon}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.content))])])})),1)],1)]),t("el-container",[t("el-header",[t("MyHeader")],1),t("el-main",[t("router-view")],1)],1)],1)},w=[],y=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{staticClass:"content-r",attrs:{span:12}},[t("el-button",{attrs:{type:"info",icon:"el-icon-menu",size:"mini"},on:{click:e.ismenubtn}})],1),t("el-col",{attrs:{span:12}},[t("el-dropdown",{staticStyle:{float:"right"},attrs:{trigger:"click"},on:{command:e.handleCommand}},[t("span",{staticClass:"dropdown-user"},[t("img",{attrs:{src:n(1789),alt:"",width:"50px",height:"50px"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"a"}},[e._v("个人中心")]),t("el-dropdown-item",{attrs:{command:"b"}},[e._v("退出")])],1)],1)],1)],1)],1)},k=[],x=n(3822),_={name:"MyHeader",methods:{...(0,x.OI)(["ismenubtn"]),handleCommand(e){"b"===e&&(window.sessionStorage.clear(),this.$router.push("/login"))}}},L=_,S=(0,l.Z)(L,y,k,!1,null,"34c22b21",null),M=S.exports,$={name:"MyHome",components:{MyHeader:M},computed:{...(0,x.rn)(["ismenu","loginmenuicon"])}},C=$,O=(0,l.Z)(C,b,w,!1,null,"50d48533",null),j=O.exports;o["default"].use(d.ZP);const P=[{path:"/",redirect:"/login"},{path:"/login",component:v},{path:"/home",component:j,name:"home",children:[]}],T=new d.ZP({routes:P});T.beforeEach(((e,t,n)=>{if("/login"===e.path)return n();const o=window.sessionStorage.getItem("token");if(!o)return n("/login");n()}));var E=T;o["default"].use(x.ZP);var Z=new x.ZP.Store({state:{ismenu:!1,loginmenuicon:[]},getters:{},mutations:{ismenubtn(e,t){e.ismenu=!e.ismenu},setloginmenu(e,t){if(!t)return;window.sessionStorage.setItem("router",JSON.stringify(t));let o=[];t.forEach((e=>{e.menu&&o.push({path:e.menu,component:()=>n(5226)(`./teacher${e.menu}`)})})),o.forEach((e=>{E.addRoute("home",e)})),e.loginmenuicon=t}},actions:{},modules:{}}),U=n(8499),N=n.n(U);o["default"].use(N());var I=n(530),q=n.n(I),z=n(9694),A=n(70);o["default"].config.productionTip=!1,A.ZP.defaults.baseURL="http://localhost:8888/api/",A.ZP.interceptors.request.use((e=>(q().start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e))),A.ZP.interceptors.response.use((e=>(q().done(),e))),o["default"].prototype.$http=A.ZP,o["default"].use(z.Z),new o["default"]({router:E,store:Z,methods:{setmenu(){const e=window.sessionStorage.getItem("router"),t=JSON.parse(e);Z.commit("setloginmenu",t)}},created(){this.setmenu()},render:e=>e(c)}).$mount("#app")},5226:function(e,t,n){var o={"./teacher/chengji":[4801,801],"./teacher/chengji.vue":[4801,801],"./teacher/kebiao":[2725,725],"./teacher/kebiao.vue":[2725,725],"./teacher/kecheng":[4404,404],"./teacher/kecheng.vue":[4404,404],"./teacher/student":[1482,482],"./teacher/student.vue":[1482,482]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=5226,e.exports=r},1789:function(e,t,n){"use strict";e.exports=n.p+"img/user.3d1a1470.jpeg"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],i=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{404:"b47afab6",482:"ec17ddde",725:"e3bd0d3b",801:"2acd5f2e"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="code-student:";n.l=function(o,r,i,a){if(e[o])e[o].push(r);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[r];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(t),s=new Error,l=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],s=o[1],l=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var c=l(n)}for(t&&t(o);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkcode_student"]=self["webpackChunkcode_student"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8129)}));o=n.O(o)})();
//# sourceMappingURL=app.b3049552.js.map